<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • spmodel</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://usepa.github.io/spmodel/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">spmodel</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.11.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/introduction.html">An Introduction to spmodel</a>
    </li>
    <li>
      <a href="../articles/guide.html">A Detailed Guide to spmodel</a>
    </li>
    <li>
      <a href="../articles/SPGLMs.html">Spatial Generalized Linear Models in spmodel</a>
    </li>
    <li>
      <a href="../articles/emmeans.html">Using emmeans to Estimate Marginal Means of spmodel Objects</a>
    </li>
    <li>
      <a href="../articles/block.html">Block Prediction (i.e., Block Kriging) in spmodel</a>
    </li>
    <li>
      <a href="../articles/technical.html">Technical Details</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/USEPA/spmodel/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href="https://github.com/USEPA/spmodel/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="0.11.1" id="spmodel-0111">spmodel 0.11.1<small>2025-11-14</small><a class="anchor" aria-label="anchor" href="#spmodel-0111"></a></h2>
<div class="section level3">
<h3 id="minor-updates-0-11-1">Minor Updates<a class="anchor" aria-label="anchor" href="#minor-updates-0-11-1"></a></h3>
<ul><li>Added a warning message when <code><a href="../reference/splm.html">splm()</a></code> or <code><a href="../reference/spglm.html">spglm()</a></code> converts a non-<code>POINT</code> geometry to a <code>POINT</code> geometry using <code><a href="https://r-spatial.github.io/sf/reference/geos_unary.html" class="external-link">sf::st_centroid()</a></code>.</li>
<li>Updated a warning message when <code><a href="../reference/splm.html">splm()</a></code> or <code><a href="../reference/spglm.html">spglm()</a></code> compute distances using a geographic coordinate system (and not a projected coordinate system).</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-11-1">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-11-1"></a></h3>
<ul><li>Fixed a bug in the cloud semivariogram (i.e., <code>esv(..., cloud = TRUE)</code>) that incorrectly doubled the semivariance.</li>
<li>Fix <code>\textbf</code>, <code>\textsf</code>, and <code>\textttt</code> LaTeX rendering issues in vignettes (<a href="https://github.com/USEPA/spmodel/issues/36" class="external-link">#36</a>).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.11.0" id="spmodel-0110">spmodel 0.11.0<small>2025-07-03</small><a class="anchor" aria-label="anchor" href="#spmodel-0110"></a></h2>
<div class="section level3">
<h3 id="major-updates-0-11-0">Major Updates<a class="anchor" aria-label="anchor" href="#major-updates-0-11-0"></a></h3>
<ul><li>Added support for Block Prediction (i.e., Block Kriging) to estimate averages (and their uncertainties) over a geographic region.</li>
<li>Added a vignette to the <a href="https://usepa.github.io/spmodel/"><code>spmodel</code> website</a> titled “Block Prediction (i.e., Block Kriging) in spmodel”.</li>
<li>Added a <code>fc_borders</code> data set which contains borders for the Four Corners states in the United States.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-11-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-11-0"></a></h3>
<ul><li>Fixed a bug that incorrectly calculated the log determinant of the fixed effects in the restricted log likelihood.</li>
<li>Fixed a bug that caused an error when <code>covmatrix(..., cov_type = "pred.pred")</code> was called on <code>object</code> with a non-<code>NULL</code> <code>newdata</code> element.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.10.0" id="spmodel-0100">spmodel 0.10.0<small>2025-03-12</small><a class="anchor" aria-label="anchor" href="#spmodel-0100"></a></h2>
<div class="section level3">
<h3 id="minor-updates-0-10-0">Minor Updates<a class="anchor" aria-label="anchor" href="#minor-updates-0-10-0"></a></h3>
<ul><li>Added a robust semivariogram option to <code><a href="../reference/esv.html">esv()</a></code>; see the <code>robust</code>argument to <code><a href="../reference/esv.html">esv()</a></code> (<a href="https://github.com/USEPA/spmodel/issues/28" class="external-link">#28</a>).</li>
<li>Added <code>"none"</code> and <code>"ie"</code> spatial covariance types (via <code>spcov_type</code> or <code>spcov_initial</code>) to <code><a href="../reference/spautor.html">spautor()</a></code>, <code><a href="../reference/spgautor.html">spgautor()</a></code>, and <code><a href="../reference/spautorRF.html">spautorRF()</a></code> (<a href="https://github.com/USEPA/spmodel/issues/27" class="external-link">#27</a>).</li>
<li>Fixed the aspect ratio at one for level curve plots of fitted model objects (anisotropic and isotropic).</li>
<li>Changed the title for level curve plots of fitted model objects from “Anisotropic level curve” to “Isotropic level curve” when the model is isotropic.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9.0" id="spmodel-090">spmodel 0.9.0<small>2024-11-06</small><a class="anchor" aria-label="anchor" href="#spmodel-090"></a></h2>
<div class="section level3">
<h3 id="major-updates-0-9-0">Major Updates<a class="anchor" aria-label="anchor" href="#major-updates-0-9-0"></a></h3>
<ul><li>Added the <code>range_constrain</code> argument to <code><a href="../reference/splm.html">splm()</a></code> and <code><a href="../reference/spglm.html">spglm()</a></code> to constrain the range parameter to enhance numerical stability. The default for <code>range_constrain</code> is <code>FALSE</code>, implying the range is not constrained.</li>
<li>Updated the <code>seal</code> data with additional polygons and a factor variable, <code>stock</code>, with two levels (<code>8</code> and <code>10</code>) that indicates seal stock (i.e., seal type).</li>
</ul></div>
<div class="section level3">
<h3 id="minor-updates-0-9-0">Minor Updates<a class="anchor" aria-label="anchor" href="#minor-updates-0-9-0"></a></h3>
<ul><li>Changed diagonal tolerance threshold for <code><a href="../reference/spglm.html">spglm()</a></code> and <code><a href="../reference/spgautor.html">spgautor()</a></code> model objects. See <a href="https://usepa.github.io/spmodel/articles/technical.html#sec:computational">this link</a> for details.</li>
<li>Added the <code>"ie"</code> spatial covariance type to <code><a href="../reference/splm.html">splm()</a></code> and <code><a href="../reference/spglm.html">spglm()</a></code> models. For <code><a href="../reference/splm.html">splm()</a></code> models, <code>"ie"</code> is an alias for <code>"none"</code>. For <code><a href="../reference/spglm.html">spglm()</a></code> models, <code>"none"</code> now fixes both the <code>de</code> and <code>ie</code> covariance parameters at zero, while <code>"ie"</code> fixes the <code>de</code> covariance parameter at zero but allows the <code>ie</code> covariance parameter to vary. Thus, <code>"none"</code> from <code>spmodel $\le$ v0.8.0</code> matches <code>"ie"</code> from <code>spmodel</code> v0.9.0 and but is different from <code>"none"</code> from <code>spmodel v0.9.0</code>.</li>
<li>Added the <code>na.action</code> argument to <code><a href="../reference/predict.spmodel.html">predict.spmodel()</a></code> functions to clarify that missing values in <code>newdata</code> return an error.</li>
<li>Minor documentation updates.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-9-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-9-0"></a></h3>
<ul><li>Fixed a bug that caused incorrect degrees of freedom for the likelihood ratio test (<code>anova(model1, model2)</code>) when <code>estmethod</code> is <code>"ml"</code> for both models.</li>
<li>Fixed a bug that caused an error in <code>anova(object1, object2)</code> when the name of <code>object1</code> had special characters (e.g., <code>$</code>).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8.0" id="spmodel-080">spmodel 0.8.0<small>2024-08-27</small><a class="anchor" aria-label="anchor" href="#spmodel-080"></a></h2>
<div class="section level3">
<h3 id="major-updates-0-8-0">Major Updates<a class="anchor" aria-label="anchor" href="#major-updates-0-8-0"></a></h3>
<ul><li>Added support for the <code>emmeans</code> <strong>R</strong> package for estimating marginal means of <code><a href="../reference/splm.html">splm()</a></code>, <code><a href="../reference/spautor.html">spautor()</a></code>, <code><a href="../reference/spglm.html">spglm()</a></code>, and <code><a href="../reference/spgautor.html">spgautor()</a></code> models.</li>
<li>Added a vignette to the <a href="https://usepa.github.io/spmodel/"><code>spmodel</code> website</a> titled “Using emmeans to Estimate Marginal Means of spmodel Objects”.</li>
<li>Added support for distance-based neighborhood definitions of <code><a href="../reference/spautor.html">spautor()</a></code> and <code><a href="../reference/spgautor.html">spgautor()</a></code> models via the <code>cutoff</code> argument, required when <code>data</code> are an <code>sf</code> object with <code>POINT</code> geometry and <code>W</code> is not specified.</li>
<li>Added the <code>texas</code> data set, which contains voter turnout data from eligible voters in Texas, USA, during the 1980 Presidential election.</li>
<li>Added the <code>lake</code> and <code>lake_preds</code> data sets, which contain data from the United States Environmental Protection Agency’s National Lakes Assessment and LakeCat.</li>
</ul></div>
<div class="section level3">
<h3 id="minor-updates-0-8-0">Minor Updates<a class="anchor" aria-label="anchor" href="#minor-updates-0-8-0"></a></h3>
<ul><li>Changed the <code>type</code> argument in <code><a href="https://generics.r-lib.org/reference/augment.html" class="external-link">augment()</a></code> for <code><a href="../reference/spglm.html">spglm()</a></code> and <code><a href="../reference/spgautor.html">spgautor()</a></code> models to <code>type.predict</code> to match <code><a href="https://broom.tidymodels.org/reference/augment.glm.html" class="external-link">broom::augment.glm()</a></code>.</li>
<li>
<code><a href="https://generics.r-lib.org/reference/augment.html" class="external-link">augment()</a></code> for <code><a href="../reference/spglm.html">spglm()</a></code> and <code><a href="../reference/spgautor.html">spgautor()</a></code> models now returns fitted values on the link scale by default to match <code><a href="https://broom.tidymodels.org/reference/augment.glm.html" class="external-link">broom::augment.glm()</a></code>.</li>
<li>Added a <code>type.residuals</code> argument for <code><a href="../reference/spglm.html">spglm()</a></code> and <code><a href="../reference/spgautor.html">spgautor()</a></code> models to match <code><a href="https://broom.tidymodels.org/reference/augment.glm.html" class="external-link">broom::augment.glm()</a></code>.</li>
<li>Updated <code><a href="https://rdrr.io/r/stats/logLik.html" class="external-link">logLik()</a></code> to match <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm()</a></code> and <code><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm()</a></code> behavior. <code><a href="https://rdrr.io/r/stats/logLik.html" class="external-link">logLik()</a></code> now returns a vector with class <code>logLik</code> and attributes <code>nobs</code> and <code>df</code>.</li>
<li>Added support for using <code><a href="https://rdrr.io/r/stats/AIC.html" class="external-link">AIC()</a></code> and <code><a href="https://rdrr.io/r/stats/AIC.html" class="external-link">BIC()</a></code> from <code>stats</code> and removed <code>spmodel</code>-specific <code><a href="https://rdrr.io/r/stats/AIC.html" class="external-link">AIC()</a></code> and <code><a href="https://rdrr.io/r/stats/AIC.html" class="external-link">BIC()</a></code> methods.</li>
<li>Added support for <code>"terms"</code> prediction for <code><a href="../reference/splm.html">splm()</a></code>, <code><a href="../reference/spautor.html">spautor()</a></code>, <code><a href="../reference/spglm.html">spglm()</a></code>, and <code><a href="../reference/spgautor.html">spgautor()</a></code> models.</li>
<li>Added <code>scale</code> and <code>df</code> arguments to <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> for <code><a href="../reference/splm.html">splm()</a></code> and <code><a href="../reference/spautor.html">spautor()</a></code> models.</li>
<li>Add <code>dispersion</code> argument to <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> for <code><a href="../reference/spglm.html">spglm()</a></code> and <code><a href="../reference/spgautor.html">spgautor()</a></code> models.</li>
<li>Enhanced numeric stability of deviance and pseudo R-squared for <code><a href="../reference/spglm.html">spglm()</a></code> or <code><a href="../reference/spgautor.html">spgautor()</a></code> models when <code>family = "beta"</code>.</li>
<li>Added the <code>cov_type</code> argument to <code><a href="../reference/covmatrix.html">covmatrix()</a></code> to return observed by observed, prediction by observed, observed by prediction, and prediction by prediction covariance matrices.</li>
<li>Added a <code>warning</code> argument to <code><a href="../reference/glances.html">glances()</a></code> that determines whether relevant warnings should be displayed or not.</li>
<li>Added a warning message to <code><a href="../reference/glances.html">glances()</a></code> about interpreting likelihood-based statistics (e.g., AIC, AICc, BIC) when a one model has <code>estmethod = "ml"</code> and another model has <code>estmethod = "reml"</code>.</li>
<li>Added a warning message to <code><a href="../reference/glances.html">glances()</a></code> about interpreting likelihood-based statistics (e.g., AIC, AICc, BIC) when two models with <code>estmethod = "reml"</code> have distinct <code>formula</code> arguments.</li>
<li>Added a warning message to <code><a href="../reference/glances.html">glances()</a></code> about interpreting likelihood-based statistics (e.g., AIC, AICc, BIC) when two models have different sample sizes.</li>
<li>Added a warning message to <code><a href="../reference/glances.html">glances()</a></code> about interpreting likelihood-based statistics (e.g., AIC, AICc, BIC) when two models have different family supports (which can happen with <code><a href="../reference/spglm.html">spglm()</a></code> and <code><a href="../reference/spgautor.html">spgautor()</a></code> models).</li>
<li>All data sets now have <code>tbl_df</code> and <code>tbl</code> classes (i.e., are tibbles).</li>
<li>Added a <code>cloud</code> argument to <code><a href="../reference/esv.html">esv()</a></code> to return a cloud semivariogram.</li>
<li>
<code><a href="../reference/esv.html">esv()</a></code> output now has <code>tbl_df</code> and <code>tbl</code> classes (i.e., are tibbles) and an <code>esv</code> class.</li>
<li>Added a <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> method for <code>esv</code> objects.</li>
<li>Minor vignette updates.</li>
<li>Minor documentation updates.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.7.0" id="spmodel-070">spmodel 0.7.0<small>2024-07-18</small><a class="anchor" aria-label="anchor" href="#spmodel-070"></a></h2>
<div class="section level3">
<h3 id="minor-updates-0-7-0">Minor Updates<a class="anchor" aria-label="anchor" href="#minor-updates-0-7-0"></a></h3>
<ul><li>Added <code><a href="../reference/AUROC.html">AUROC()</a></code> functions to compute the area under the receiver operating characteristic (AUROC) curve for <code><a href="../reference/spglm.html">spglm()</a></code> and <code><a href="../reference/spgautor.html">spgautor()</a></code> models when <code>family</code> is <code>"binomial"</code> and the response is binary (i.e., represents a single success or failure).</li>
<li>Added a <code><a href="https://rdrr.io/r/stats/AIC.html" class="external-link">BIC()</a></code> function to compute the Bayesian Information Criterion (BIC) for <code><a href="../reference/splm.html">splm()</a></code>, <code><a href="../reference/spautor.html">spautor()</a></code>, <code><a href="../reference/spglm.html">spglm()</a></code>, and <code><a href="../reference/spgautor.html">spgautor()</a></code> models when <code>estmethod</code> is <code>"reml"</code> (restricted maximum likelihood; the default) or <code>"ml"</code> (maximum likelihood).</li>
<li>Added a <code>type</code> argument to <code><a href="../reference/loocv.html">loocv()</a></code> when <code>cv_predict = TRUE</code> and using <code><a href="../reference/spglm.html">spglm()</a></code> or <code><a href="../reference/spgautor.html">spgautor()</a></code> models so that predictions may be obtained on the link or response scale.</li>
<li>Added a warning message when <code>data</code> is an <code>sf</code> object and a geographic (i.e., degrees) coordinate system is used instead of a projected coordinate system.</li>
<li>Changed the default behavior of <code>local</code> in <code>predict.spmodel</code> so that it depends only on the observed data sample size. Now, when the observed data sample size exceeds 10,000 <code>local</code> is set to <code>TRUE</code> by default. This change was made because prediction for big data depends almost exclusively on the observed data sample size, not the number of predictions desired.</li>
<li>Minor external data updates (for package testing).</li>
<li>Minor vignette updates.</li>
<li>Minor documentation updates.</li>
<li>Minor error message updates.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-7-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-7-0"></a></h3>
<ul><li>Fixed a bug that prohibited proper indexing when calling <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> with the <code>local</code> method <code>"distance"</code> on a model object fit with a random effect or partition factor.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.6.0" id="spmodel-060">spmodel 0.6.0<small>2024-04-16</small><a class="anchor" aria-label="anchor" href="#spmodel-060"></a></h2>
<div class="section level3">
<h3 id="minor-updates-0-6-0">Minor Updates<a class="anchor" aria-label="anchor" href="#minor-updates-0-6-0"></a></h3>
<ul><li>Improved efficiency of handling random effects in big data models fit using <code>splm(..., local)</code> and <code>spglm(..., local)</code>.</li>
<li>Changed <code>Matrix::rankMatrix(X, method = "tolNorm2")</code> to <code>Matrix::rankMatrix(X, method = "qr")</code> when determining linear independence in <code>X</code>, the design matrix of explanatory variables.</li>
<li>Replaced an error message with a warning message when <code>X</code> has perfect collinearities (i.e., is not full rank). If this warning message occurs, it is possible that a subsequent error occurs while model fitting resulting from a covariance matrix that is not positive definite (i.e., a covariance matrix that is singular or computationally singular).</li>
<li>Improved efficiency of <code><a href="../reference/splm.html">splm()</a></code> when <code>spcov_type</code> is <code>"none"</code> and there are no random effects <a href="https://github.com/USEPA/spmodel/issues/15" class="external-link">(</a><a href="https://github.com/USEPA/spmodel/issues/15" class="external-link">#15</a>).</li>
<li>Added a <code>range_positive</code> argument to <code><a href="../reference/spautor.html">spautor()</a></code> and <code><a href="../reference/spgautor.html">spgautor()</a></code> that when <code>TRUE</code> (the new default), restricts the range parameter to be positive. When <code>FALSE</code> (the prior default), the range parameter may be negative or positive.</li>
<li>Updated the initial parameter grid search for <code><a href="../reference/spautor.html">spautor()</a></code> and <code><a href="../reference/spgautor.html">spgautor()</a></code> to include range parameter values near the lower and upper boundaries.</li>
<li>Minor documentation updates</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-6-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-6-0"></a></h3>
<ul><li>Fixed a bug that yielded improper predictions when performing local prediction (specifying <code>local</code> in a call to <code>predict(object, newdata, ...)</code>) when the model object (<code>object</code>) was fit using <code>splm(formula, ...)</code> or <code>spglm(formula, ...)</code> and <code>formula</code> contained at least one call to <code>poly(..., raw = FALSE)</code>.</li>
<li>Fixed a bug that caused big data models fit using <code>splm(..., local)</code> and <code>spglm(..., local)</code> to fail when a user-specified local index was passed to <code>local</code> that was a factor variable and at least one factor level not was observed in the local index.</li>
<li>Fixed a bug that caused models fit using <code>splm(..., partition_factor)</code> and <code>spglm(..., partition_factor)</code> to fail when the partition factor variable was a factor variable and at least one factor level was not observed in the data.</li>
<li>Fixed a bug in <code><a href="../reference/spgautor.html">spgautor()</a></code> that inflated the covariance matrix of the fixed effects (accessible via <code><a href="https://rdrr.io/r/stats/vcov.html" class="external-link">vcov()</a></code>).</li>
<li>Fixed a bug in <code>sp*(spcov_params, ...)</code> simulation functions that caused an error when <code>spcov_params</code> had class <code>"car"</code> or <code>"sar"</code> and <code>W</code> was provided by the user.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.5.1" id="spmodel-051">spmodel 0.5.1<small>2024-01-09</small><a class="anchor" aria-label="anchor" href="#spmodel-051"></a></h2>
<div class="section level3">
<h3 id="minor-updates-0-5-1">Minor Updates<a class="anchor" aria-label="anchor" href="#minor-updates-0-5-1"></a></h3>
<ul><li>Set a default value of <code>newdata_size = 1</code> when <code>newdata_size</code> was omitted while predicting <code>type = "response"</code> for binomial families.</li>
<li>Improved computational efficiency of <code>loocv(object)</code> when <code>object</code> was created using <code><a href="../reference/splm.html">splm()</a></code> or <code><a href="../reference/spglm.html">spglm()</a></code>, <code>spcov_type</code> was <code>"none"</code>, and there were no random effects specified via <code>random</code>.</li>
<li>Changed the number of k-means iterations from 10 to 30 (when fitting models using the <code>local</code> argument to <code><a href="../reference/splm.html">splm()</a></code> or <code><a href="../reference/spglm.html">spglm()</a></code>).</li>
<li>Added bias and root-mean-squared-prediction error to <code>loocv(object)</code>. When <code>object</code> was created using <code><a href="../reference/splm.html">splm()</a></code> or <code><a href="../reference/spautor.html">spautor()</a></code>, <code>loocv(object)</code> added the squared correlation between the observed data and leave-one-out predictions, regarded as a prediction r-squared.</li>
<li>Improved prediction efficiency (using <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> or <code><a href="https://generics.r-lib.org/reference/augment.html" class="external-link">augment()</a></code>) for <code><a href="../reference/splm.html">splm()</a></code> objects when <code>spcov_type</code> was <code>"none"</code> and there were no random effects.</li>
<li>Minor error message updates.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-5-1">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-5-1"></a></h3>
<ul><li>Fixed a bug that caused local prediction to fail when the fitted model used a partition factor (<a href="https://github.com/USEPA/spmodel/issues/13" class="external-link">#13</a>).</li>
<li>Fixed a bug that caused significant increases in computational and memory demands when calling <code>loocv(object, local, ...)</code> if <code>object</code> was created using <code>splm(..., random)</code> or <code>spglm(..., random)</code> (i.e., when random effects were specified via the <code>random</code> argument to <code><a href="../reference/splm.html">splm()</a></code> or <code><a href="../reference/spglm.html">spglm()</a></code>).</li>
<li>Fixed a bug that caused significant increases in computational and memory demands when calling <code>loocv(object, local, ...)</code> if <code>object</code> was created using <code>splm(..., partition_factor)</code> or <code>spglm(..., partition_factor)</code> (i.e., when a partition factor was specified via the <code>partition_factor</code> argument to <code><a href="../reference/splm.html">splm()</a></code> or <code><a href="../reference/spglm.html">spglm()</a></code>).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.5.0" id="spmodel-050">spmodel 0.5.0<small>2023-10-25</small><a class="anchor" aria-label="anchor" href="#spmodel-050"></a></h2>
<div class="section level3">
<h3 id="minor-updates-0-5-0">Minor updates<a class="anchor" aria-label="anchor" href="#minor-updates-0-5-0"></a></h3>
<ul><li>Predictions can now be made for prediction locations whose random effect levels are not present in the observed data
<ul><li>When this occurs, the random-effect covariance between the observed data and these prediction locations is assumed to be zero.</li>
</ul></li>
<li>The default for <code>local = TRUE</code> in <code><a href="../reference/splm.html">splm()</a></code> and <code><a href="../reference/spglm.html">spglm()</a></code> now uses the <code>kmeans</code> assignment method with group sizes approximately equal to 100.
<ul><li>Previously, the <code>random</code> assignment method was used with group sizes approximately equal to 50.</li>
</ul></li>
<li>The default for <code>local = TRUE</code> in <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> and <code><a href="https://generics.r-lib.org/reference/augment.html" class="external-link">augment()</a></code> now uses 100 local neighbors.
<ul><li>Previously, 50 local neighbors were used.</li>
</ul></li>
<li>Moved the “A Detailed Guide to <code>spmodel</code>” and “Technical Details” vignettes to the package website.</li>
<li>Added a “Spatial Generalized Linear Models in <code>spmodel</code>” vignette to the package website.</li>
<li>Changed name of “An Overview of Basic Features in <code>spmodel</code>” vignette to “An Introduction to <code>spmodel</code>” and changed output type from PDF to HTML.</li>
<li>Other minor vignette updates.</li>
<li>Minor documentation updates.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-5-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-5-0"></a></h3>
<ul><li>Fixed a bug that occurred with prediction for success/failure binomial data (e.g., Bernoulli data) when <code>local</code> in <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> was <code>TRUE</code>.</li>
<li>Fixed a bug that could affect simulating data using <code><a href="../reference/sprbinom.html">sprbinom()</a></code> when the <code>size</code> argument was different from <code>1</code>.</li>
<li>Fixed a bug that could cause local prediction to fail when only one level of a random effect was present in the prediction site’s local neighborhood.</li>
<li>Fixed a bug that could cause an error when local estimation was used for the <code>"sv-wls"</code> estimation method.</li>
<li>Fixed a bug that caused undesirable behavior from <code><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy()</a></code> when <code>conf.level</code> was less than zero or greater than one.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.4.0" id="spmodel-040">spmodel 0.4.0<small>2023-05-26</small><a class="anchor" aria-label="anchor" href="#spmodel-040"></a></h2>
<div class="section level3">
<h3 id="major-updates-0-4-0">Major updates<a class="anchor" aria-label="anchor" href="#major-updates-0-4-0"></a></h3>
<ul><li>Added an <code><a href="../reference/spglm.html">spglm()</a></code> function to fit spatial generalized linear models for point-referenced data (i.e., generalized geostatistical models).
<ul><li>
<code><a href="../reference/spglm.html">spglm()</a></code> syntax is very similar to <code><a href="../reference/splm.html">splm()</a></code> syntax.</li>
<li>Poisson, negative binomial, binomial, beta, gamma, and inverse Gaussian families are accommodated.</li>
<li>
<code><a href="../reference/spglm.html">spglm()</a></code> fitted model objects use the same generics as <code><a href="../reference/splm.html">splm()</a></code> fitted model objects.</li>
</ul></li>
<li>Added an <code><a href="../reference/spgautor.html">spgautor()</a></code> function to fit spatial generalized linear models for areal data (i.e., spatial generalized autoregressive models).
<ul><li>
<code><a href="../reference/spgautor.html">spgautor()</a></code> syntax is very similar to <code><a href="../reference/spautor.html">spautor()</a></code> syntax.</li>
<li>Poisson, negative binomial, binomial, beta, gamma, and inverse Gaussian families are accommodated.</li>
<li>
<code><a href="../reference/spgautor.html">spgautor()</a></code> fitted model objects use the same generics as <code><a href="../reference/spautor.html">spautor()</a></code> fitted model objects.</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="minor-updates-0-4-0">Minor updates<a class="anchor" aria-label="anchor" href="#minor-updates-0-4-0"></a></h3>
<ul><li>In <code><a href="https://generics.r-lib.org/reference/augment.html" class="external-link">augment()</a></code>, made the <code>level</code> and <code>local</code> arguments explicit (rather than being passed to <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> via <code>...</code>).</li>
<li>Added <code>offset</code> support for relevant modeling functions.</li>
<li>Minor documentation updates.</li>
<li>Minor vignette updates.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-4-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-4-0"></a></h3>
<ul><li>Fixed a bug in <code><a href="../reference/spcov_params.html">spcov_params()</a></code> that yielded output with improper names when a named vector was used as an argument.</li>
<li>Fixed a bug in <code><a href="../reference/spautor.html">spautor()</a></code> that did not properly coerce <code>M</code> if given as a matrix (instead of a vector).</li>
<li>Fixed a bug in <code><a href="../reference/esv.html">esv()</a></code> that prevented coercion of <code>POLYGON</code>geometries to <code>POINT</code> geometries if <code>data</code> was an <code>sf</code> object.</li>
<li>Fixed a bug in <code><a href="../reference/esv.html">esv()</a></code> that did not remove <code>NA</code> values from the response.</li>
<li>Fixed a bug in <code><a href="../reference/splm.html">splm()</a></code> and <code><a href="../reference/spautor.html">spautor()</a></code> that caused an error when random effects or partition factors were ordered factors.</li>
<li>Fixed a bug in <code><a href="../reference/spautor.html">spautor()</a></code> that prevented an error from occurring when a partition factor was not categorical or not a factor</li>
<li>Fixed a bug in <code>covmatrix(object, newdata)</code> that returned a matrix with improper dimensions when <code>spcov_type</code> was <code>"none"</code>.</li>
<li>Fixed a bug in <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> that caused an error when at least one level of a fixed effect factor was not observed within a local neighborhood (when the <code>local</code> method was <code>"covariance"</code> or <code>"distance")</code>.</li>
<li>Fixed a bug in <code><a href="https://rdrr.io/r/stats/influence.measures.html" class="external-link">cooks.distance()</a></code> that used the Pearson residuals instead of the standardized residuals.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.0" id="spmodel-030">spmodel 0.3.0<small>2023-03-10</small><a class="anchor" aria-label="anchor" href="#spmodel-030"></a></h2>
<div class="section level3">
<h3 id="minor-updates-0-3-0">Minor updates<a class="anchor" aria-label="anchor" href="#minor-updates-0-3-0"></a></h3>
<ul><li>Added the <code>varcomp</code> function to compare variance components.</li>
<li>Added an error message when there are <code>NA</code> values in predictors.</li>
<li>Added an error message when the design (model) matrix is not invertible (i.e., perfect collinearities are detected).</li>
<li>Added support for plotting anisotropic level curves of equal correlation when the <code>which</code> argument to <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> contains <code>8</code>.</li>
<li>Renamed <code><a href="https://rdrr.io/r/stats/residuals.html" class="external-link">residuals()</a></code> type <code>raw</code> to <code>response</code> to match <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">stats::lm()</a></code>.</li>
<li>Changed class of <code><a href="../reference/splm.html">splm()</a></code> output to <code>"splm"</code> from <code>"spmod"</code> or <code>"splm_list"</code> from <code>"spmod_list"</code>.</li>
<li>Changed class of <code><a href="../reference/spautor.html">spautor()</a></code> output to <code>"spautor"</code> from <code>"spmod"</code> or <code>"spautor_list"</code> from <code>"spautor_list"</code>.</li>
<li>Changed class of <code><a href="../reference/splmRF.html">splmRF()</a></code> output to <code>"splmRF"</code> from <code>"spmodRF"</code> or <code>"splmRF_list"</code> from <code>"spmodRF_list"</code>.</li>
<li>Changed class of <code><a href="../reference/spautorRF.html">spautorRF()</a></code> output to <code>"spautorRF"</code> from <code>"spmodRF"</code> or <code>"spautorRF_list"</code> from <code>"spmodRF_list"</code>.</li>
<li>Methods corresponding to a generic function defined outside of <code>spmodel</code> are now all documented using an <code>.spmodel</code> suffix, making it easier to find documentation of a particular <code>spmodel</code> method for the generic function of interest.</li>
<li>Added an error when random effect grouping variables or partition factors are numeric.</li>
<li>Added an error when random effect or partition factor levels in <code>newdata</code> are not also in <code>data</code>.</li>
<li>Updated citation information.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-3-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-3-0"></a></h3>
<ul><li>Fixed a bug that produced irregular spacing in an error message for <code><a href="../reference/spcov_initial.html">spcov_initial()</a></code>.</li>
<li>Fixed a bug that prevented proper display of row names when calling <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> with <code>interval = "confidence"</code>.</li>
<li>Fixed a bug that sometimes caused miscalculations in model-fitting and prediction when random effect or partition factor variables were improperly coerced to a different type.</li>
<li>Fixed bugs that sometimes caused miscalculations in certain model diagnostics.</li>
<li>Fixed inconsistencies in several non-exported generic functions.</li>
<li>Fixed a bug that prevented names from appearing with output from certain model diagnostics.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.0" id="spmodel-020">spmodel 0.2.0<small>2022-11-11</small><a class="anchor" aria-label="anchor" href="#spmodel-020"></a></h2>
<ul><li>
<code>spmodel</code> v0.3.0 changed the names of <code>spmod</code>, <code>spmodRF</code>, <code>spmod_list</code>, and <code>spmodRF_list</code> objects.</li>
</ul><div class="section level3">
<h3 id="minor-updates-0-2-0">Minor updates<a class="anchor" aria-label="anchor" href="#minor-updates-0-2-0"></a></h3>
<ul><li>
<code><a href="../reference/splm.html">splm()</a></code> and <code><a href="../reference/spautor.html">spautor()</a></code> allow multiple models to be fit when the <code>spcov_type</code> argument is a vector of length greater than one or the <code>spcov_initial</code> argument is a list (with length greater than one) of <code>spcov_initial</code> objects.
<ul><li>The resulting object is a list with class <code>spmod_list</code>. Each element of the list holds a different model fit.</li>
<li>
<code><a href="../reference/glances.html">glances()</a></code> is used on an <code>spmod_list</code> object to glance at each model fit.</li>
<li>
<code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> is used on an <code>spmod_list</code> object to predict at the locations in <code>newdata</code> for each model fit.</li>
</ul></li>
<li>Added the <code><a href="../reference/splmRF.html">splmRF()</a></code> and <code><a href="../reference/spautorRF.html">spautorRF()</a></code> functions to fit random forest spatial residual models.
<ul><li>The resulting object has class <code>spmodRF</code> (one spatial covariance) or <code>spmodRF_list</code> (multiple spatial covariances)</li>
<li>These objects are built for use with <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> to perform prediction.</li>
</ul></li>
<li>Added the <code><a href="../reference/covmatrix.html">covmatrix()</a></code> function to extract covariance matrices from an <code>spmod</code> object fit using <code><a href="../reference/splm.html">splm()</a></code> or <code><a href="../reference/spautor.html">spautor()</a></code>.</li>
<li>Minor vignette updates.</li>
<li>Minor documentation updates.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-2-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-2-0"></a></h3>
<ul><li>Fixed a bug that prevents display of spatial covariance type in summary of <code>spmod</code> objects.</li>
<li>Fixed a bug that prevented prediction of factor variables when all levels of all factor variables did not appear in <code>newdata</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.1" id="spmodel-011">spmodel 0.1.1<small>2022-10-20</small><a class="anchor" aria-label="anchor" href="#spmodel-011"></a></h2>
<div class="section level3">
<h3 id="minor-updates-0-1-1">Minor updates<a class="anchor" aria-label="anchor" href="#minor-updates-0-1-1"></a></h3>
<ul><li>Updated unit tests so that they are compatible with an upcoming version of <code>Matrix</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.0" id="spmodel-010">spmodel 0.1.0<small>2022-08-12</small><a class="anchor" aria-label="anchor" href="#spmodel-010"></a></h2>
<p>This is the initial release of spmodel.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Michael Dumelle, Matt Higham, Jay M. Ver Hoef.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

