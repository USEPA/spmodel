% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/spautorRF.R
\name{spautorRF}
\alias{spautorRF}
\title{Fit random forest residual spatial autoregressive models}
\usage{
spautorRF(formula, data, ...)
}
\arguments{
\item{formula}{A two-sided linear formula describing the fixed effect structure
of the model, with the response to the left of the \code{~} operator and
the terms on the right, separated by \code{+} operators.}

\item{data}{A data frame or \code{sf} object object that contains
the variables in \code{fixed}, \code{random}, and \code{partition_factor}
as well as geographical information. If an \code{sf} object is
provided with \code{POINT} geometries, the x-coordinates and y-coordinates
are used directly. If an \code{sf} object is
provided with \code{POLYGON} geometries, the x-coordinates and y-coordinates
are taken as the centroids of each polygon.}

\item{...}{Additional named arguments to \code{ranger::ranger} or \code{\link[=spautor]{spautor()}}.}
}
\value{
An \code{spmodRF} object to be used with \code{predict()}. There are
three elements: \code{ranger}, the output from fitting the mean model with
\code{ranger::ranger}; \code{spmod}, the output from fitting the spatial
linear model to the ranger residuals; and \code{newdata}, the \code{newdata}
object, if relevant.
}
\description{
Fit random forest residual spatial linear models
for areal data (i.e., spatial autoregressive models) using
random forest for the mean and a spatial linear model for the residuals,
which can be modeled variety of estimation methods, allowing for random effects,
partition factors, and row standardization.
}
\details{
The random forest residual spatial linear model is described by
Fox Et al. (2020). A random forest model is fit to the mean portion of the
model specified by \code{formula} using \code{ranger::ranger()}. Residuals
are computed and used as the response variable in an intercept-only spatial
linear model fit using \code{\link[=spautor]{spautor()}}. This model object is intended for use with
\code{predict()} for perform prediction, also called random forest
regression Kriging.
}
\examples{
\donttest{
seal$x <- rnorm(NROW(seal)) # add dummy variable
sprfmod <- spautorRF(log_trend ~ x, data = seal, spcov_type = "car")
predict(sprfmod)
}
}
\references{
Fox, E.W., Ver Hoef, J. M., & Olsen, A. R. (2020). Comparing spatial
regression to random forests for large environmental data sets.
\emph{PloS one}, 15(3), e0229509.
}
